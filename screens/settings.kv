<SettingsScreen>:
    name: "settings"

    BoxLayout:
        orientation: "vertical"
        size_hint: 1, 1
        spacing: 10
        padding: [20, 20]

        Label:
            id: settings_label
            text: "Settings"
            font_size: 50
            font_name: "SecondaryFont"
            color: 0, 0, 0, 1
            halign: "center"
            valign: "middle"
            size_hint_y: 0.8
            height: self.texture_size[1]
            pos_hint: {"center_y": 0.5}

        BoxLayout:
            orientation: "horizontal"
            size_hint_y: None
            height: dp(50)
            spacing: 10

            Label:
                text: "Username:"
                font_size: 30
                font_name: "SecondaryFont"
                bold: True
                color: 0, 0, 0, 1
                size_hint_x: 0.3

            TextInput:
                id: username_input
                text: app.username  # Load current username
                font_size: 35
                font_name: "SecondaryFont"
                multiline: False
                size_hint_x: 0.7

        Button:
            text: "Save username"
            bold: True
            font_size: 30
            font_name: "SecondaryFont"
            background_normal: ""
            background_color: app.colours["active"]
            size_hint_y: None
            height: dp(50)
            on_release: app.change_user_name(username_input.text)